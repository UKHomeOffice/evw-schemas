{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "/",
    "type": "object",
    "properties": {
        "objectId": {
            "id": "objectId",
            "type": "string"
        },
        "passport": {
            "id": "passport",
            "type": "object",
            "properties": {
                "name": {
                    "id": "name",
                    "type": "string"
                },
                "dateOfBirth": {
                    "id": "dateOfBirth",
                    "type": "string",
                    "pattern": "^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"
                },
                "expiryDate": {
                    "id": "expiryDate",
                    "type": "string",
                    "pattern": "^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"
                },
                "gender": {
                    "id": "gender",
                    "type": "string",
                    "enum": [
                        "M",
                        "F"
                    ]
                },
                "issueDate": {
                    "id": "issueDate",
                    "type": "string",
                    "pattern": "^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"
                },
                "nationality": {
                    "id": "nationality",
                    "type": "string",
                    "enum": [
                        "KWT"
                    ]
                },
                "passportNumber": {
                    "id": "passportNumber",
                    "type": "string"
                },
                "placeOfBirth": {
                    "id": "placeOfBirth",
                    "type": "string"
                },
                "placeOfIssue": {
                    "id": "placeOfIssue",
                    "type": "string"
                },
                "holdOtherNationalities": {
                    "id": "holdOtherNationalities",
                    "type": "string",
                    "enum": ["Yes", "No"]
                },
                "otherNationalities": {
                    "id": "otherNationalities",
                    "type": "string"
                },
                "heldPreviousNationalities": {
                    "id": "heldPreviousNationalities",
                    "type": "string",
                    "enum": ["Yes", "No"]
                },
                "previousNationalities": {
                    "id": "previousNationalities",
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "name",
                "dateOfBirth",
                "expiryDate",
                "gender",
                "issueDate",
                "nationality",
                "passportNumber",
                "placeOfBirth",
                "placeOfIssue",
                "holdOtherNationalities",
                "heldPreviousNationalities"
            ],
            "dependencies": {
                "holdOtherNationalities": {
                    "oneOf": [{
                        "properties": {
                            "holdOtherNationalities": {
                                "enum": ["No"]
                            }
                        },
                        "not": { "required": ["otherNationalities"] }
                    }, {
                        "properties": {
                            "holdOtherNationalities": {
                                "enum": ["Yes"]
                            }
                        },
                        "required": ["otherNationalities"]
                    }]
                },
                "heldPreviousNationalities": {
                    "oneOf": [{
                        "properties": {
                            "heldPreviousNationalities": {
                                "enum": ["No"]
                            }
                        },
                        "not": { "required": ["previousNationalities"] }
                    }, {
                        "properties": {
                            "heldPreviousNationalities": {
                                "enum": ["Yes"]
                            }
                        },
                        "required": ["previousNationalities"]
                    }]
                }
            }
        },
        "payment": {
            "id": "payment",
            "type": "object",
            "properties": {
                "orderCode": {
                    "id": "orderCode",
                    "type": "string"
                },
                "feeInPence": {
                    "id": "feeInPence",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 10000
                },
                "paymentDate": {
                    "id": "paymentDate",
                    "type": "string",
                    "pattern": "^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]) ([0-9]{2}):([0-9]{2}):([0-9]{2})$"
                }
            },
            "additionalProperties": false,
            "required": [
                "orderCode",
                "feeInPence",
                "paymentDate"
            ]
        },
        "contactDetails": {
            "id": "contactDetails",
            "type": "object",
            "properties": {
                "emailAddress": {
                    "id": "emailAddress",
                    "type": "string",
                    "pattern": "^[^@]+@[^@]+\\.[^@]+$"
                },
                "secondEmail": {
                    "id": "secondEmail",
                    "type": "string",
                    "pattern": "^[^@]+@[^@]+\\.[^@]+$"
                },
                "homeAddress": {
                    "id": "homeAddress",
                    "type": "string"
                },
                "phoneNumber": {
                    "id": "phoneNumber",
                    "type": "string"
                },
                "companyName": {
                    "id": "companyName",
                    "type": "string"
                },
                "occupation": {
                    "id": "occupation",
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "emailAddress",
                "homeAddress",
                "phoneNumber",
                "companyName",
                "occupation"
            ]
        },
        "journey": {
            "type": "object",
            "properties": {
                "travelBy": {
                    "id": "travelBy",
                    "type": "string",
                    "enum": [
                        "Plane",
                        "Train",
                        "Boat"
                    ]
                },
                "departureForUKDate": {
                    "id": "departureForUKDate",
                    "type": "string"
                },
                "portOfArrival": {
                    "id": "portOfArrival",
                    "type": "string"
                },
                "arrivalTravel": {
                    "id": "arrivalTravel",
                    "type": "string"
                },
                "arrivalDate": {
                    "id": "arrivalDate",
                    "type": "string",
                    "pattern": "^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"
                },
                "arrivalTime": {
                    "id": "arrivalTime",
                    "type": "string"
                },
                "ukAddress": {
                    "id": "ukAddress",
                    "type": "string"
                },
                "departureDate": {
                    "id": "departureDate",
                    "type": "string",
                    "pattern": "^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"
                },
                "departureTravel": {
                    "id": "departureTravel",
                    "type": "string"
                },
                "reasonForTravel": {
                    "id": "reasonForTravel",
                    "type": "string"
                },
                "travelAlone": {
                    "id": "travelAlone",
                    "type": "string",
                    "enum": ["Yes", "No"]
                },
                "otherTravellers": {
                    "id": "otherTravellers",
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "travelBy",
                "arrivalTravel",
                "arrivalDate",
                "arrivalTime",
                "ukAddress",
                "departureDate",
                "departureTravel",
                "reasonForTravel",
                "travelAlone"
            ],
            "dependencies" : {
                "travelAlone": {
                    "oneOf": [{
                        "properties": {
                            "travelAlone": {
                                "enum": ["Yes"]
                            }
                        },
                        "not": { "required": ["otherTravellers"] }
                    }, {
                        "properties": {
                            "travelAlone": {
                                "enum": ["No"]
                            }
                        },
                        "required": ["otherTravellers"]
                    }]
                }
            }
        },
        "passportFileId": {
            "id": "passportFileId",
            "type": "string",
            "pattern": "[0-9a-f]{24}"
        },
        "referenceId": {
            "id": "referenceId",
            "type": "string",
            "pattern": "[A-Z\\d]{8}"
        }
    },
    "additionalProperties": false,
    "required":[
        "objectId",
        "passport",
        "payment",
        "contactDetails",
        "journey",
        "passportFileId",
        "referenceId"
    ]
}